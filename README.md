bitworkstesttask

Тестовое задание (простые числа, 
бэкенд, алгоритм, СУБД) 
 
Язык реализации: согласно требованиям в акансии 
Фреймворк реализации: согласно требованиям в акансии; если не у казано, т о на 
усмотрение и сполнителя 
 
Цель тестового з адания - р еализация R ESTful-сервиса, в ыдающего простое число, 
ближайшее к X слева (меньшее), где X передается в параметре GET. Алгоритм 
вычисления п ростого числа р еализовать самостоятельно (метод на выбор 
исполнителя, р ешето Эратосфена - ОК). 
 
Результат выложить на G itHub, п редоставить ссылку на репозиторий. В репозитории 
положить README.md, описывающий способ з апуска и тестирования. 
 
Набираете от 20 б аллов - м ожно претендовать н а позицию middle. 
Базовая реализация (6 баллов): 
 
HTTP-запрос: GET /10 
HTTP-Ответ:   
{ 
‘requested-x’: 10, 
‘prime-number’: 7 
} 
Добавить unit-тесты (+2 б алла) 
Добавьте unit-тесты, которые покрывают с озданный код и функции. 
Добавить и нтеграционный-тест ( +2 балла) 
Добавьте и нтеграционный тест, который поднимает dev-сервер, выполняет запрос для 
X, получает результат, сверяет его с ожидаемым, завершает в ыполнение d ev-сервера. 
Реализация с к эшированием (+5 баллов) 
Добавьте Б Д (таблица создается при с тарте сервера, е сли не с уществует), в которую 
складываются вычисленные п ростые ч исла. Если запрашивается число в диапазоне 
кэшированных, то в озвращается ч исло из кэша, б ез вычисления. 

К примеру,   
 
GET /20 
вернули 19 
положили в к эш: 2, 3, 5, 7 , 11, 13, 17, 1 9 
 
GET /25 
вернули 23 
доложили в кэш все, что между 19 и 25: 23 
 
GET / 8 
вернули 7 из кэша 
Добавить unit-тесты (+2 балла) 
Добавьте u nit-тесты, которые покрывают созданный код и функции. 
Добавить интеграционный-тест ( +4 балла) 
Придумайте тест, который бы п роверял, что работает наполнение СУБД и 
возвращаются кэшированные данные. 
Реализация асинхронного вычисления простых 
чисел (+10 баллов) 
В качестве основы используется реализация с кэшированием. При запросе POST / X 
возвращается не результат, а JOB-ID з адания. Задания помещаются в отдельный 
вычислительный поток, который вычисляет простое число по короткому (кэш) или 
полному пути. Для получения р езультата пользователь запрашивает GET 
/result/JOB-ID. Если результат в ычислен, то он возвращается со с татусом ready; если в 
процессе вычисления, т о сервер возвращает pending. 
 
Модифицируйте тесты, для соответствия изменениям. 
 
Пример: 
 
POST /10 
{ 
‘job-id’: 1 
} 
 
GET / result/1 
{ 
‘status’: ‘ pending’ 
} 
 
…. 
 
GET / result/1 
{ 
‘status’: ‘ready’, 
‘prime-number’: 7 
} 
 
Good luck! 
